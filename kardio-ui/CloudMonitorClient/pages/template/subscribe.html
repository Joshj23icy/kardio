<!--
 *Copyright 2019 T-Mobile USA, Inc.
 *
 *Licensed under the Apache License, Version 2.0 (the "License"); you may not
 *use this file except in compliance with the License.  You may obtain a copy
 *of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 *Unless required by applicable law or agreed to in writing, software
 *distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 *WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the
 *License for the specific language governing permissions and limitations under
 *the License.
 *See the LICENSE file for additional language around disclaimer of warranties.
 *Trademark Disclaimer: Neither the name of "T-Mobile, USA" nor the names of
 *its contributors may be used to endorse or promote products derived from this
 *software without specific prior written permission.
-->
<div id="{{handler}}" class="modal msgModal" align="left">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">Subscribe for {{header}}</h4>
            </div>
            <div class="modal-body">
            	<ul>
            		<li ng-repeat="emailDet in $root.subAvailableEmails | orderBy:'subsciptionVal'">
            			<a ng-click="setsubscribeText(emailDet.subsciptionVal, emailDet.subsciptionType)">{{emailDet.subsciptionVal}} {{emailDet.activationStatus != true? '(Pending Activation)' : ''}}</a>
            		</li>
            	</ul>
            	<div class="modal-body">
            		<div class="form-group">
    					<label for="subscriptionType">Subscription Type</label>
    					<select id="subscriptionType" ng-model="subscriptionType" selected="selected" class="form-control" ng-init="subscriptionType = 'email'">
  							<option value="email">Email</option>
 							<option value="slack">Slack Web Hook URL</option>
 							<option value="slackChannel">Slack Channel Name</option>
 							<option value="oneConsoleWebhook">One Console Web Hook URL</option>
						</select>
  					</div>
            		<div class="form-group" ng-show="subscriptionType == 'email'">
						<label for="emailAddress">Email address</label>
            			<input type="text" class="form-control" ng-model="subscribeEmail"  placeholder="Enter Mail Id"/>
            		</div>
            		<div class="form-group"  ng-show="subscriptionType == 'slack'">
						<label for="slackURL">Slack URL</label>
            			<input type="text" class="form-control" ng-model="subscribeSlack"  placeholder="Enter Slack URL"/>
            			<p class="note">To subscribe for a slack channel. Please create a URL for you channel using incoming-webhook and paste the URL here.
							Incoming-webhook page : <a a target="_webhook" href="https://t-mo.slack.com/apps/A0F7XDUAZ-incoming-webhooks">https://t-mo.slack.com/apps/A0F7XDUAZ-incoming-webhooks</a></p>
            		</div>
            		<div class="form-group"  ng-show="subscriptionType == 'slackChannel'">
            			<label for="slackChannel">Slack Channel Name</label>
            			<input type="text" class="form-control" ng-model="subscribeSlackChannel"  placeholder="Enter Slack Channel Name"/>
            		</div>
            		<div class="form-group"  ng-show="subscriptionType == 'oneConsoleWebhook'">
						<label for="webHookURL">Web Hook URL</label>
            			<input type="text" class="form-control" ng-model="subscribeWebhook"  placeholder="Enter Web Hook URL"/>
            			<p class="note">To subscribe for a Web Hook. Please work with "Enterprise Service Assurance Desk" to create the webhook url for your application and paste the URL here.</p>
            		</div>
            		<p ng-if="$root.subResponseMessage != null" class="alert alert-info" role="alert">{{$root.subResponseMessage}}</p>
            	</div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" ng-click="subscribeAlert(subscriptionType)">Subscribe</button>
                <button type="button" class="btn btn-danger" ng-click="unSubscribeAlert(subscriptionType)">Unsubscribe</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
